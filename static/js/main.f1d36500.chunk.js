(this.webpackJsonpcodeacademyproject=this.webpackJsonpcodeacademyproject||[]).push([[0],[,,,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),s=n(7),i=n.n(s),r=n(6),o=n.n(r),l=n(8),u=n(9),m=n(2),d=(n(15),n(16),n(0));var h=function(t){var e=Object(a.useState)(""),n=Object(m.a)(e,2),c=n[0],s=n[1];return Object(d.jsxs)("div",{className:"SearchBar",children:[Object(d.jsx)("input",{placeholder:"Enter A Song, Album, or Artist",onChange:function(t){s(t.target.value)}}),Object(d.jsx)("button",{className:"SearchButton",onClick:function(){t.onSearch(c),console.log(c)},children:"SEARCH"})]})};n(18),n(19),n(20);var b=function(t){var e=t.track,n=t.onAdd,a=t.onRemove,c=t.isRemoval,s=function(){n(e)},i=function(){a(e)};return Object(d.jsxs)("div",{className:"Track",children:[Object(d.jsxs)("div",{className:"Track-information",children:[Object(d.jsx)("h3",{children:e.name}),Object(d.jsxs)("p",{children:[e.artist," | ",e.album]})]}),Object(d.jsx)("button",{className:"Track-action",children:function(t){return t?Object(d.jsx)("button",{onClick:i,className:"Track-action",children:"-"}):Object(d.jsx)("button",{onClick:s,className:"Track-action",children:"+"})}(c)})]})};var f=function(t){return Object(d.jsx)("div",{className:"TrackList",children:t.tracks.map((function(e){return Object(d.jsx)(b,{track:e,onAdd:t.onAdd,onRemove:t.onRemove,isRemoval:t.isRemoval},e.id)}))})};var j=function(t){return Object(d.jsxs)("div",{className:"SearchResults",children:[Object(d.jsx)("h2",{children:"Results"}),Object(d.jsx)(f,{tracks:t.searchResults,isRemoval:!1,onAdd:t.onAdd})]})};n(21);var p,v=function(t){return Object(d.jsxs)("div",{className:"Playlist",children:[Object(d.jsx)("input",{defaultValue:"New Playlist",onChange:function(e){t.onNameChange(e.target.value)}}),Object(d.jsx)(f,{tracks:t.playlistTracks,onRemove:t.onRemove,isRemoval:!0}),Object(d.jsx)("button",{className:"Playlist-save",onClick:t.onSave,children:"SAVE TO SPOTIFY"})]})},y={getAccessToken:function(){if(p)return p;var t=window.location.href.match(/access_token=([^&]*)/),e=window.location.href.match(/expires_in=([^&]*)/);if(t&&e){p=t[1];var n=e[1];console.log(t[1]),window.setTimeout((function(){return p=""}),1e3*n),window.history.pushState("Access Token",null,"/")}else{var a="https://accounts.spotify.com/authorize?client_id=".concat("3ca849b4c2664035983dfb7f4925df4d","&response_type=token&scope=playlist-modify-public&redirect_uri=").concat("https://rohitkatbamna.surge.sh/");window.location=a}},search:function(t){var e=y.getAccessToken();return fetch("https://api.spotify.com/v1/search?type=track&q=".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(t){return t.json()})).then((function(t){return t.tracks?t.tracks.items.map((function(t){return{id:t.id,name:t.name,artist:t.artists[0].name,album:t.album.name,uri:t.uri}})):[]}))},savePlaylist:function(t,e){if(t&&e.length){var n,a=y.getAccessToken(),c={Authorization:"Bearer ".concat(a)};return fetch("https://api.spotify.com/v1/me",{headers:c}).then((function(t){return t.json()})).then((function(a){return n=a.id,fetch("https://api.spotify.com/v1/users/".concat(n,"/playlists"),{headers:c,method:"POST",body:JSON.stringify({name:t})}).then((function(t){return t.json()})).then((function(t){var a=t.id;return fetch("https://api.spotify.com/v1/users/".concat(n,"/playlists/").concat(a,"/tracks"),{headers:c,method:"POST",body:JSON.stringify({uris:e})})}))}))}}},O=y;var k=function(){var t=Object(a.useState)([{name:"name1",artist:"artist1",album:"album1",id:1},{name:"name2",artist:"artist2",album:"album2",id:2},{name:"name3",artist:"artist3",album:"album3",id:3},{name:"name4",artist:"artist4",album:"album4",id:4}]),e=Object(m.a)(t,2),n=e[0],c=e[1],s=Object(a.useState)("MyPlaylist"),i=Object(m.a)(s,2),r=i[0],b=i[1],f=Object(a.useState)([{name:"playlistname1",artist:"playlistartist1",album:"playlistalbum1",id:1},{name:"playlistname2",artist:"playlistartist2",album:"playlistalbum2",id:2},{name:"playlistname3",artist:"playlistartist3",album:"playlistalbum3",id:3},{name:"playlistname4",artist:"playlistartist4",album:"playlistalbum4",id:4}]),p=Object(m.a)(f,2),y=p[0],k=p[1],x=function(){var t=Object(l.a)(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.search(e);case 2:n=t.sent,c(n),console.log(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsxs)("div",{children:[Object(d.jsxs)("h1",{children:["Ja",Object(d.jsx)("span",{className:"highlight",children:"mmm"}),"ing"]}),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(h,{onSearch:x}),Object(d.jsxs)("div",{className:"App-playlist",children:[Object(d.jsx)(j,{searchResults:n,onAdd:function(t){y.find((function(e){return t.id===e.id}))||k((function(e){return[t].concat(Object(u.a)(e))}))}}),Object(d.jsx)(v,{playlistName:r,playlistTracks:y,onRemove:function(t){k((function(e){return e.filter((function(e){return e.id!==t.id}))}))},onNameChange:function(t){b(t)},onSave:function(){var t=y.map((function(t){return t.uri}));O.savePlaylist(r,t).then((function(){b({playlistName:"New Playlist",playlistTracks:[]})}))}})]})]})]})},x=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),a(t),c(t),s(t),i(t)}))};i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(k,{})}),document.getElementById("root")),x()}],[[22,1,2]]]);
//# sourceMappingURL=main.f1d36500.chunk.js.map